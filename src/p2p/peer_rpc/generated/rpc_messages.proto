syntax = "proto3";
package rpc_messages;

// RPC request message
message Request {
    oneof RequestType {
        Hello       hello        = 101;
        SubmitShare submit_share = 102;
    }
}

// RPC response message
message Response {
    oneof ResponseType {
        Nack         nack          = 201;
        Ack          ack           = 202;
        Hello        hello         = 203;
    }
}

// Introduce myself to a new peer
message Hello {
    // Announce what height I am on
    uint64 my_height = 1;

    // If I want to bond with this peer, provide the difficulty I can mine into
    // this bond.
    optional uint64 my_difficulty = 2;
}

// Submit a proof-of-work solution to a peer I am bonding with
message SubmitShare {
    uint64 nonce = 1;
}

// Peer rejected my request
message Nack {}

// Peer accepted my request without response
message Ack {}

