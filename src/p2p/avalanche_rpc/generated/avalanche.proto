syntax = "proto3";
package avalanche.proto;

// Request message type
message Request {
	oneof RequestData {
		Hash get_block = 0;
		Hash get_vertex = 1;
		Hash get_preference = 2;
	}
}

// Response message type
message Response {
	// Error codes
	enum Error {
		NOT_FOUND = 0;
	}

	oneof ResponseData {
		Error error = 0;
		Block block = 1;
		Vertex vertex = 2;
		Preference preference = 3;
	}
}

// Inner message types
message Hash {
  bytes hash = 0;
}

message Preference {
  Hash hash = 0;
  bool preferred = 1;
}

message Block {
  uint32 version = 0;
	uint64 difficulty = 1;
	bytes miner = 2;
  repeated Hash inputs = 3;
  repeated Txo outputs = 4;
	bytes time = 5;
	uint64 nonce = 6;
}

message Vertex {
  uint32 version = 0;
	repeated Hash parents = 1;
  Hash block_hash = 2;
}

message Txo {
  uint64 value = 0;
}
